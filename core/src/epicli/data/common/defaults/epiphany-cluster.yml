kind: epiphany-cluster
version: 0.3.0
title: "Epiphany cluster Config"
provider: aws
name: "default"
specification:
  name: EpiphanyCluster
  admin_user:
    name: operations # YOUR-ADMIN-USERNAME
    key_path: /root/.ssh/epiphany-operations/id_rsa # YOUR-SSH-KEY-PATH
  infrastructure_provisioner: terraform # valid values: terraform, none
  cloud:
    subscription_name: YOUR-SUB-NAME
    vnet_address_pool: 10.1.0.0/20
    region: eu-west-2
    credentials: # todo change it to get credentials from vault
      key: 3124-4124-4124
      secret: DADFAFHCJHCAUYEAk
  components:
    kubernetes_master:
      count: 1
      subnet_address_pool: 10.1.1.0/24
      machine: default
      configuration: default
    kubernetes_node:
      count: 2
      subnet_address_pool: 10.1.1.0/24
      machine: default
      configuration: default
    kubernetes_node_ha:
      count: 2
      subnet_address_pool: 10.1.4.0/24
      machine: default
      configuration: default
    logging:
      count: 1
      subnet_address_pool: 10.1.2.0/24
      machine: default
      configuration: default
    monitoring:
      count: 1
      subnet_address_pool: 10.1.2.0/24
      machine: default
      configuration: default
    kafka:
      count: 0
      subnet_address_pool: 10.1.2.0/24
      machine: default
      configuration: default
    postgresql:
      count: 0
      subnet_address_pool: 10.1.3.0/24
      machine: default
      configuration: default
    load_balancer:
      count: 0
      subnet_address_pool: 10.1.10.0/24
      machine: default
      configuration: default
